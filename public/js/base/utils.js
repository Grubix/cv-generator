!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).utils={})}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&!Array.isArray(e)}function r(e){return e&&(e instanceof Element||e instanceof HTMLDocument)}function n(e,r){for(const[n,o]of Object.entries(r))if(o)if("style"===n){if(!t(o))throw new Error("style property must be an object");for(const t in o)e.style[t]=o[t]}else if("dataset"===n){if(!t(o))throw new Error("dataset property must be an object");for(const t in o)e.dataset[t]=o[t]}else if("class"===n){if(!Array.isArray(o))throw new Error("class property must be an array");o.forEach(t=>{e.classList.add(t)})}else n in e||"function"==typeof o?e[n]=o:e.setAttribute(n,o)}function o(e,o,s){if("string"!=typeof e)throw new TypeError("query must be a string");if("text"===e){if("string"==typeof o)return document.createTextNode(o);throw new TypeError("arg1 must be a string for 'text' type")}const a=(e||"div").replace(/\s+/g,".").split("."),i=document.createElement(a[0]);for(let e=1;e<a.length;e++)i.classList.add(a[e]);return o&&(t(o)?r(o)?i.append(o):n(i,o):Array.isArray(o)?o.forEach(e=>{e&&i.append(e)}):i.append(o)),s&&(Array.isArray(s)?s.forEach(e=>{e&&i.append(e)}):i.append(s)),i}function s(e){if(!e)return"";const t=[],r=(e,n,o)=>{if(Array.isArray(n)){const t=o+(0==o.length?e:"["+e+"]");n.forEach((e,n)=>{r(n,e,t)})}else if(n instanceof Object){const t=o+(0==o.length?e:"["+e+"]");Object.keys(n).forEach(e=>{r(e,n[e],t)})}else{const r=encodeURIComponent(n);t.push(0==o.length?e+"="+r:o+"["+e+"]="+r)}};return Object.keys(e).forEach(t=>{r(t,e[t],"")}),t.join("&")}e.isObject=t,e.isElement=r,e.attr=n,e.el=o,e.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)},e.text=function(e){return document.createTextNode(e)},e.id=function(e){return document.getElementById(e)},e.query=function(e){return[...document.querySelectorAll(e)]},e.bounds=function(e){return e.getBoundingClientRect()},e.style=function(e,t){for(const r in t)e.style[r]=t[r];return e},e.on=function(e,r,n){if(!e||!r)throw new Error("'events' and 'targets' must not be null");let o,s;if(Array.isArray(e))o=e;else{if("string"!=typeof e)throw new TypeError("'events' must be either an Array or string.");o=[e]}if(Array.isArray(r))s=r;else if(t(r))s=[r];else{if("string"!=typeof r)throw new TypeError("'targets' must be either an Array, Element or query string.");s=[...document.querySelectorAll(r)]}return s.forEach(e=>{o.forEach(t=>{e.addEventListener(t,n,!0)})}),n},e.off=function(e,t,r){t.removeEventListener(e,r)},e.empty=function(e){for(;e.firstChild;)e.removeChild(e.lastChild);return e},e.pick=function(e,...t){return Object.assign({},...t.map(t=>({[t]:e[t]})))},e.pickStyle=function(e,...t){const r=getComputedStyle(e);return Object.assign({},...t.map(t=>({[t]:e.style[t]?e.style[t]:r[t]})))},e.clamp=function(e,t,r){return e<t?t:e>r?r:e},e.px=function(e,t=document.body){const r=o("div",{style:{marginTop:e}});t.append(r);const n=getComputedStyle(r).marginTop;return t.removeChild(r),parseFloat(n)},e.serialize=s,e.ajax=function(e){const r=Object.assign({},{method:"GET",returnType:"text",url:null,headers:null,data:null},"object"==typeof e?e:{url:e});if(!r.url)throw new Error("URL is not defined");return new Promise((e,n)=>{const o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==this.readyState)if(200==this.status)switch(r.returnType){case"text":e(o.responseText);break;case"json":try{e(JSON.parse(o.responseText))}catch(e){console.error(o.responseText),n(e)}break;case"xml":e(o.responseXML);break;default:n(new Error("Unknown return type: "+r.returnType))}else n(new Error("Request failed with status: "+o.status))},"GET"==r.method.toUpperCase()?(o.open("GET",r.url+"?"+s(r.data),!0),t(r.headers)&&Object.keys(r.headers).forEach(e=>{o.setRequestHeader(e,r.headers[e])}),o.send()):"POST"==r.method.toUpperCase()&&(o.open("POST",r.url,!0),t(r.headers)?Object.keys(r.headers).forEach(e=>{o.setRequestHeader(e,r.headers[e])}):o.setRequestHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),o.send(s(r.data)))})},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=../maps/base/utils.js.map
