!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("kdom"),require("anime")):"function"==typeof define&&define.amd?define(["kdom","anime"],e):(t=t||self).app=e(t.kdom,t.anime)}(this,(function(t,e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;class i{constructor(t="info",e="toast content",i){this.type=t,this.content=e;Object.assign(this,{showDuration:400,hideDuration:400,timeout:6e3,extendedTimeout:2e3,typeIcon:!0,closeButton:!0,autohide:!0,userselectNone:!0,onshow:()=>{},onhide:()=>{}},i)}createDOM(){let e,o;this.typeIcon&&(e=t.el("div.toast-type",t.el("i."+i.settings.icons[this.type]))),this.closeButton&&(o=t.el("div.toast-close",t.el("i.toast-close-icon."+i.settings.icons.close,{onclick:()=>this.hide()}))),this.dom=t.el("div.toast",{dataset:{toastType:this.type},role:"dialog",ontouchstart:()=>this.hide()},[t.el("div.toast-content",[e,t.el("div.toast-text",{style:{userSelect:this.userselectNone?"none":"initial"}},this.content),o]),this.progressBar=t.el("div.toast-progress")])}show(){if(this.createDOM(),i.container.parentNode!==document.body&&document.body.append(i.container),i.container.append(this.dom),e({targets:this.dom,duration:this.showDuration,easing:"easeOutElastic(0.5, 1)",height:[0,this.dom.offsetHeight],opacity:[0,1],complete:()=>{this.dom.style.height=null,this.onshow()}}),this.progressBarAnimation=e({targets:this.progressBar,duration:this.showDuration+this.timeout,autoplay:this.autohide,easing:"linear",width:["100%",0],complete:()=>this.hide()}),i.stack.length+1>i.settings.maxStack)for(let t=0;t<i.stack.length-i.settings.maxStack+1;t++)i.stack[t].hide();i.stack.push(this)}hide(){e({targets:this.dom,duration:this.hideDuration,opacity:0,left:"-10%",easing:"cubicBezier(.17,.67,.62,.96)",complete:()=>{i.remove(this),this.onhide(),this.progressBarAnimation&&(this.progressBarAnimation.pause(),delete this.progressBarAnimation)}})}static show(t,e,o){(t instanceof i?t:new i(t,e,o)).show()}static remove(t){const e=i.stack.indexOf(t);e>-1&&i.stack.splice(e,1),t.dom&&(i.container.removeChild(t.dom),delete t.dom),0==i.stack.length&&i.container.parentNode===document.body&&document.body.removeChild(i.container)}static hideAll(){[...i.stack].forEach(t=>t.hide())}}return i.container=t.el("div.toast-stack",{onmouseenter:()=>{i.stack.forEach(t=>{t.autohide&&(e.set(t.progressBar,{width:"100%"}),t.progressBarAnimation&&(t.progressBarAnimation.pause(),delete t.progressBarAnimation))})},onmouseleave:()=>{i.stack.forEach(t=>{t.autohide&&(t.progressBarAnimation=e({targets:t.progressBar,duration:t.extendedTimeout,easing:"linear",width:["100%",0]}),t.progressBarAnimation.finished.then(()=>t.hide()))})}}),i.stack=[],i.settings={maxStack:3,icons:{info:"ic-message-circle",success:"ic-check",warning:"ic-alert-triangle",error:"ic-alert-circle",option:"ic-help-circle",close:"ic-x"}},{Toast:i,Modal:class{constructor(t){const e={size:"md",type:void 0,style:void 0,content:"modal content",zIndex:999,showDuration:300,hideDuration:300,closeButton:!0,autoshow:!1,onshow:()=>{},onhide:()=>{}};Object.assign(this,e,t),this.autoshow&&this.show()}createDOM(){this.dom=t.el("div.modal",{style:this.style,dataset:{modalSize:this.size},role:"dialog"},this.content),this.container=t.el("div.modal-container",{style:{zIndex:this.zIndex}},this.dom),document.body.append(this.container)}show(){this.createDOM(),e({targets:this.container,duration:this.showDuration,easing:"cubicBezier(.09,.39,.65,1)",opacity:[0,1]}),e({targets:this.dom,duration:this.showDuration,easing:"cubicBezier(.09,.39,.65,1)",translateY:["-100px",0],opacity:[0,1]})}hide(){e({targets:this.container,duration:this.hideDuration,easing:"cubicBezier(.35,0,.65,1)",opacity:[1,0]}),e({targets:this.dom,duration:this.hideDuration,easing:"cubicBezier(.35,0,.65,1)",translateY:[0,"50px"],opacity:[1,0],complete:()=>{document.body.removeChild(this.container),delete this.container,delete this.dom}})}}}}));
//# sourceMappingURL=maps/app.js.map
